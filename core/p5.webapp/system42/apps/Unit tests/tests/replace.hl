
/*
 * Unit tests for [replace].
 */

Replace single constant string
  _data:Thomas Dumbfuck Hansen
  replace:x:/@_data?value
    src:Dumbfuck
    dest:Brilliant
  if:x:/@replace?value
    !=:Thomas Brilliant Hansen
    throw:Assert error, [replace] misbehaved


Replace single with expression src and dest
  _with:Brilliant
  _what:Dumbfuck
  _data:Thomas Dumbfuck Hansen
  replace:x:/@_data?value
    src:x:/@_what?value
    dest:x:/@_with?value
  if:x:/@replace?value
    !=:Thomas Brilliant Hansen
    throw:Assert error, [replace] misbehaved


Replace with regular expression src
  _data:Thomas Dumbfuck Hansen is Dumbfuck
  replace:x:/@_data?value
    src:regex:/dumbfuck/i
    dest:Brilliant
  if:x:/@replace?value
    !=:Thomas Brilliant Hansen is Brilliant
    throw:Assert error, [replace] misbehaved
